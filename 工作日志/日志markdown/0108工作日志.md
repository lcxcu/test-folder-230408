ols测试代码，lm函数用OLS进行模型估计
```R
## test example 2
set.seed(123)  
x <- rnorm(100)  
y <- 2 * x + rnorm(100)  
df <- data.frame(x, y) 
model <- lm(y ~ x, data = df)
summary(model)
predictions <- predict(model, newdata = df)
plot(df$x, df$y, col = "blue")  # 绘制原始数据
lines(df$x, predictions, col = "red")  # 绘制预测值
```
OLS估计模型，本质上和u-midas模型估计是相同的，因此使用midas_u函数进行模型简单估计。下面是改写所有中国股票数据代码，lm因为数据量不足,模型估计不完整，因此参数显示NA。
```R
# 1 数据导入
library(midasr)
datax <- read.csv("G:\\midasr_data\\First_data\\data_stock_daliy28_1.csv",sep=',' , encoding='UTF-8')
datay <- read.csv("G:\\midasr_data\\First_data\\data_src1.csv",sep=',' , encoding='UTF-8')

code <- '2646'
x <- subset(datax,证券代码==code,select=c('涨跌幅'))
nx <- x$涨跌幅
## y
y <- subset(datay,证券代码==code,select=c('调前财报.发布日期.'))
y <- na.omit(y$调前财报.发布日期.)# 去空值
ny<-diff(y)# 取一阶差分
# 2 模型拟合
xx <- nx[1:1008]
yy <- ny[1:12] 
eq_u <- midas_u(mls(yy, 1:3, 1) ~  mls(xx, 84:419, 84))
summary(eq_u)
# 3 预测
xn <- nx[1:1596]
yn <- ny[1:19]
yn<-data.frame(yn) 
fore_u<- forecast(eq_u, list(xx = xn), method = "dynamic") 
fore_u
```
模拟166个季度（约41.5年）数据后，u-midas模型估计参数结果不为空，以下只是示例代码 , 还未拟合完整数据。
另外粗略最小可估计季度约为87，细节还需要进一步确定。
```R
theta_h0 <- function(p, dk, ...) {
i <- (1:dk-1)/100
pol <- p[3]*i + p[4]*i^2
(p[1] + p[2]*i)*exp(pol)
}
##生成48个系数
theta0 <- theta_h0(c(-0.1,10,-10,-10),4*12)
#利用arima.sim生成自回归移动平均模型（ARMA）时间序列。
trend <- 166
xx <- ts(arima.sim(model = list(ar = 0.6), trend * 84), frequency = 84) 
y <- midas_sim(trend, xx, theta0) 
x <- window(xx, start=start(y))
#模拟高低频数据帧
ldt <- data.frame(y=y,trend=1:length(y))
hdt <- data.frame(x=window(x, start=start(y)))
##拟合无限制模型
eq_u <- midas_u(y~fmls(x,84,84), list(ldt, hdt))
print(summary(eq_u))
print(trend)
```

```R
Call:
lm(formula = y ~ fmls(x, 60, 12), data = ee)

Residuals:
     Min       1Q   Median       3Q      Max 
-3.02708 -0.58460  0.01279  0.58384  2.83895 

Coefficients:
                        Estimate Std. Error t value Pr(>|t|)    
(Intercept)            4.901e-02  5.036e-02   0.973 0.331001    
fmls(x, 60, 12)X.0/m  -8.764e-02  5.091e-02  -1.722 0.085873 .  
fmls(x, 60, 12)X.1/m   1.741e-02  6.053e-02   0.288 0.773785    
fmls(x, 60, 12)X.2/m   5.081e-02  6.215e-02   0.818 0.414022    
fmls(x, 60, 12)X.3/m   1.201e-01  6.069e-02   1.979 0.048485 *  
fmls(x, 60, 12)X.4/m   2.179e-01  5.836e-02   3.733 0.000215 ***
fmls(x, 60, 12)X.5/m   1.283e-01  5.882e-02   2.181 0.029709 *  
fmls(x, 60, 12)X.6/m   3.887e-01  5.683e-02   6.838 2.74e-11 ***
fmls(x, 60, 12)X.7/m   2.440e-01  5.961e-02   4.094 5.07e-05 ***
fmls(x, 60, 12)X.8/m   2.857e-01  5.913e-02   4.832 1.88e-06 ***
fmls(x, 60, 12)X.9/m   2.477e-01  6.017e-02   4.117 4.60e-05 ***
fmls(x, 60, 12)X.10/m  3.044e-01  6.100e-02   4.990 8.74e-07 ***
fmls(x, 60, 12)X.11/m  3.136e-01  6.071e-02   5.165 3.67e-07 ***
fmls(x, 60, 12)X.12/m  2.921e-01  6.211e-02   4.702 3.47e-06 ***
fmls(x, 60, 12)X.13/m  2.776e-01  6.121e-02   4.535 7.46e-06 ***
fmls(x, 60, 12)X.14/m  2.256e-01  6.286e-02   3.589 0.000370 ***
fmls(x, 60, 12)X.15/m  2.528e-01  6.048e-02   4.181 3.52e-05 ***
fmls(x, 60, 12)X.16/m  3.338e-01  5.791e-02   5.763 1.57e-08 ***
fmls(x, 60, 12)X.17/m  1.744e-01  5.882e-02   2.964 0.003199 ** 
fmls(x, 60, 12)X.18/m  2.305e-01  5.662e-02   4.070 5.59e-05 ***
fmls(x, 60, 12)X.19/m  1.940e-01  6.027e-02   3.220 0.001380 ** 
fmls(x, 60, 12)X.20/m  1.925e-01  5.911e-02   3.257 0.001216 ** 
fmls(x, 60, 12)X.21/m  1.701e-01  5.997e-02   2.836 0.004781 ** 
fmls(x, 60, 12)X.22/m  1.047e-01  6.126e-02   1.709 0.088140 .  
fmls(x, 60, 12)X.23/m  2.172e-01  6.063e-02   3.583 0.000378 ***
fmls(x, 60, 12)X.24/m  1.019e-01  6.241e-02   1.632 0.103370    
fmls(x, 60, 12)X.25/m  5.550e-02  6.035e-02   0.920 0.358288    
fmls(x, 60, 12)X.26/m  8.674e-02  6.277e-02   1.382 0.167715    
fmls(x, 60, 12)X.27/m  9.194e-02  6.055e-02   1.518 0.129644    
fmls(x, 60, 12)X.28/m  9.175e-02  5.869e-02   1.563 0.118693    
fmls(x, 60, 12)X.29/m  1.251e-01  5.746e-02   2.177 0.030011 *  
fmls(x, 60, 12)X.30/m -2.027e-02  5.607e-02  -0.362 0.717854    
fmls(x, 60, 12)X.31/m -8.979e-03  5.978e-02  -0.150 0.880668    
fmls(x, 60, 12)X.32/m  1.132e-01  5.905e-02   1.918 0.055784 .  
fmls(x, 60, 12)X.33/m  2.257e-02  6.000e-02   0.376 0.707011    
fmls(x, 60, 12)X.34/m -5.246e-03  6.123e-02  -0.086 0.931760    
fmls(x, 60, 12)X.35/m -2.678e-02  5.999e-02  -0.446 0.655473    
fmls(x, 60, 12)X.36/m  1.217e-01  6.291e-02   1.934 0.053742 .  
fmls(x, 60, 12)X.37/m -2.744e-02  6.077e-02  -0.451 0.651885    
fmls(x, 60, 12)X.38/m  1.007e-01  6.263e-02   1.607 0.108688    
fmls(x, 60, 12)X.39/m -3.113e-02  6.046e-02  -0.515 0.606885    
fmls(x, 60, 12)X.40/m -2.806e-02  5.847e-02  -0.480 0.631608    
fmls(x, 60, 12)X.41/m  7.758e-02  5.758e-02   1.347 0.178594    
fmls(x, 60, 12)X.42/m  3.579e-02  5.678e-02   0.630 0.528806    
fmls(x, 60, 12)X.43/m -2.801e-02  5.986e-02  -0.468 0.640029    
fmls(x, 60, 12)X.44/m  4.381e-02  5.840e-02   0.750 0.453568    
fmls(x, 60, 12)X.45/m -1.339e-01  6.033e-02  -2.219 0.027037 *  
fmls(x, 60, 12)X.46/m  6.785e-02  6.020e-02   1.127 0.260314    
fmls(x, 60, 12)X.47/m  1.497e-03  6.004e-02   0.025 0.980117    
fmls(x, 60, 12)X.48/m  3.414e-05  6.316e-02   0.001 0.999569    
fmls(x, 60, 12)X.49/m -1.437e-02  6.123e-02  -0.235 0.814599    
fmls(x, 60, 12)X.50/m  2.151e-02  6.252e-02   0.344 0.730964    
fmls(x, 60, 12)X.51/m -2.572e-02  6.010e-02  -0.428 0.668960    
fmls(x, 60, 12)X.52/m  8.787e-03  5.858e-02   0.150 0.880830    
fmls(x, 60, 12)X.53/m -3.120e-02  5.800e-02  -0.538 0.590929    
fmls(x, 60, 12)X.54/m -2.955e-02  5.702e-02  -0.518 0.604595    
fmls(x, 60, 12)X.55/m -1.492e-02  5.965e-02  -0.250 0.802609    
fmls(x, 60, 12)X.56/m  4.672e-02  5.715e-02   0.818 0.414067    
fmls(x, 60, 12)X.57/m -2.867e-02  6.016e-02  -0.477 0.633926    
fmls(x, 60, 12)X.58/m  8.758e-02  6.015e-02   1.456 0.146059    
fmls(x, 60, 12)X.59/m -1.247e-02  6.021e-02  -0.207 0.836070    
fmls(x, 60, 12)X.60/m -4.333e-02  5.475e-02  -0.791 0.429150    
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 1.043 on 433 degrees of freedom
  (因为不存在，5个观察量被删除了)
Multiple R-squared:  0.8844,	Adjusted R-squared:  0.8681 
F-statistic:  54.3 on 61 and 433 DF,  p-value: < 2.2e-16
```