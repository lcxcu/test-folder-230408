1. 自科申请书的修改，对摘要、研究背景等进行了修改。
2. 继续完成分析师**分析师共识预测模型**的建立，数据量较大，同样需要分批进行数据处理。（代码并不难，主要是数据量大批次处理花费时间长）
**分析师的共识基准预测**$\Delta \hat{E}_{f,q,h}^{Analyst}$，等于所有分析师**最近估计的EPS的中值**。分析师对公司f的季度q每股收益的估计是在共识预测形成之日之前(财政季度q结束前h个月)发布的，减去在I/B/E/S中报告的上一财季经拆分调整的实际季度每股收益值(即$\Delta \hat{E}_{f,q,h}^{Analyst} = \hat{E}_{f,q,h}^{Analyst} - E_{q-1}$).

计算**所有分析师最近估计的EPS的中值**为关键代码，如下
```python
## 计算每个季度分析师最新预测值中的中位数
grouped = df.groupby(['TICKER', 'FPEDATS', 'ANALYS'])
df['new_value'] = grouped['REVDATS'].transform(lambda x: df.loc[x.idxmax(), 'VALUE'])
df_grouped = df.groupby(['TICKER', 'FPEDATS'])
df['mid_value'] = df_grouped['new_value'].transform('median')
df_anncon_eps = df[['TICKER', 'FPEDATS','CUSIP','mid_value']].drop_duplicates()
```