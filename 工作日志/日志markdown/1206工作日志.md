1. 股票数据如果有空缺（NA），模型拟合会报错
   挑选了以下两种填补方案：
   - 1 用aggreagte填补均值
   - 2 用前一天的数据填补下一天的NA
   
为了更快学习模型的使用，**暂时用了第二种**方法
 （下附函数参考）
   ![[缺失值的填补]]

2. 重要的模型拟合函数`midas_r`数据的代入方法掌握了。
   通常我们会先用`lm`函数检查数据是否对齐：
```R
eq_u1 <- lm(yy1 ~ mls(yy1,0,m = 1) + mls(xx1,k=84:167,m=84))
```
如果数据没对齐，则会报错**Error : Incomplete high frequency data** : 这是因为*需要低频周期的完整高频数据。如：低频周期包含 3 个高频周期，但仅提供两个周期的数据*

**数据对齐是模型能否成功运行的关键**，接下来就可以进行模型拟合：
```R
eq_r <- midas_r(yy1 ~ mls(yy1, 0 ,m = 1,nealmon) + mls(xx1,84:167, 84 ,nealmon), start = list(yy1 = c(1, -0.5), xx1= c(2, 0.5, -0.1)))
```
使用时要注意除了以上数据频率未对齐，代数据错误时可能还会以下报错：
- *Error in prepmidas_r(y, X, mt, Zenv, cl, args, start, Ofunction, weight_gradients,  :   Starting values for weight parameters must be supplied* : 每个变量必须设定权重函数(nealmon、nbeta等)
- *Error in eval(fr[[wpos]], Zenv) : argument is missing, with no default* : 新数据中的变量的名称和模型中的变量名称不同

目前模型拟合未报错，但查看模型时 `summary(eq_r)`暂时又遇到新的问题
```R
Error in base::chol2inv(x, ...) : 
  element (6, 6) is zero, so the inverse cannot be computed
```
经过几次实验猜想是不是因为高频滞后变量数据太多的问题。
